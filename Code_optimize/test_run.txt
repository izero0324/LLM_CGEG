var1 = (lambda : map(int, input().split()))\n(var2, var3) = var1()\nvar4 = [list(range((var2 + 1))) for var5 in range((var3 + 1))]\n\ndef function1(var6, var5):\n    if (var5 != var4[var6][var5]):\n        var4[var6][var5] = function1(var6, var4[var6][var5])\n    return var4[var6][var5]\nfor var7 in range(var3):\n    (var8, var9, var6) = var1()\n    var4[var6][function1(var6, var8)] = function1(var6, var9)\nfor var10 in range(int(input())):\n    (var8, var9) = var1()\n    print(sum(((function1(var7, var8) == function1(var7, var9)) for var7 in range((var3 + 1)))))